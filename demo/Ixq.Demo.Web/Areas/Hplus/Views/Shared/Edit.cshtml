@using Ixq.Core.Entity
@using Ixq.Web.Mvc.Html
@model Ixq.UI.Controls.IPageEditViewModel
@{
    Layout = "~/Areas/Hplus/Views/Shared/_LayoutHplusIframe.cshtml";
    var entityName = Model.EntityDto.GetType().Name;
}

<div class="wrapper wrapper-content animated fadeIn">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>@(Model.Title)</h5>
                </div>
                <div class="ibox-content">
                    <form class="form-horizontal m-t" id="@(entityName)_from">
                        @foreach (IRuntimePropertyMenberInfo item in Model.PropertyMenberInfo)
                        {
                            @Html.PropertyEditor(item, Model.EntityDto)
                        }
                        <div class="form-group">
                            <label class="col-sm-3 control-label">姓名：</label>
                            <div class="col-sm-8">
                                <input id="cname" name="name" minlength="2" type="text" class="form-control" required="" aria-required="true">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">E-mail：</label>
                            <div class="col-sm-8">
                                <input id="cemail" type="email" class="form-control" name="email" required="" aria-required="true">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">网站：</label>
                            <div class="col-sm-8">
                                <input id="curl" type="url" class="form-control" name="url">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">说明：</label>
                            <div class="col-sm-8">
                                <textarea id="ccomment" name="comment" class="form-control" required="" aria-required="true"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-3">
                                <button class="btn btn-primary" type="submit">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script src="~/Content/Hplus/js/plugins/validate/jquery.validate.min.js"></script>
    <script src="~/Content/Hplus/js/plugins/validate/messages_zh.min.js"></script>

    <script>
        $().ready(function() {
            $("#@(entityName)_from").validate();
        });
    </script>
}